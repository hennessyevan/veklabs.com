---
import { Image } from "astro:assets"
import config from "../config.json"
import candianFlagSvg from "../images/canada.svg"

const today = new Date()
---

<!-- <div class="banners">
  {{ if (isset .Params "cta") }}
  {{ with .Params.cta }}{{ partial "site/cta" . }}{{ end }}
  {{ else if (isset .Site.Params "cta")}}
  {{ with .Site.Params.cta }}{{ partial "site/cta" . }}{{ end }}
  {{ end }}
</div> -->
<footer class="bg-background h-max" role="contentinfo">
  <div
    class="flex flex-col lg:flex-row gap-6 items-center py-4 px-6 border-t border-t-neutral-800"
  >
    <div class="basis-1/3 flex items-center gap-2">
      <Image
        class="h-3 w-4 text-white"
        src={candianFlagSvg}
        alt="Canadian Flag"
      />
      {config.FOOTER_PRETEXT}
    </div>

    <div class="basis-1/3 text-center">
      <div>
        &copy; {today.getFullYear()}
        <a href={config.baseURL}>{config.title} Inc.</a>
      </div>
    </div>

    <div
      class="basis-1/3 text-right justify-end inline-grid grid-flow-col grid-rows-1 gap-4"
    >
      {
        config.social.channel.map(async ({ url, name, icon }) => (
          <a href={url} target="_blank" class="text-white font-semibold">
            <img
              src={
                icon.startsWith("http")
                  ? icon
                  : await import(`../images/${icon}?url`).then((m) => m.default)
              }
              alt={name}
              class="h-6 lg:h-4"
            />
          </a>
        ))
      }
    </div>
  </div>

  <div
    class="flex gap-3 flex-col lg:flex-row py-4 px-6 border-t border-neutral-800 items-center justify-center"
  >
    <span>
      {config.mail}
    </span>
  </div>
</footer>
